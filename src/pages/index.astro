---
import BaseLayout from "../layouts/BaseLayout.astro";
import StoreLocator from "../components/StoreLocator.astro";
import PressTicker from "../components/PressTicker.astro";
import CateringCTA from "../components/CateringCTA.astro";
import InstagramFeed from "../components/InstagramFeed.astro";
import TestimonialSlider from "../components/TestimonialSlider.astro";
---

<BaseLayout>
    <section id="video_banner" class="relative w-full h-screen overflow-hidden">
        <!-- Background Video -->
        <video class="absolute inset-0 w-full h-full object-cover" autoplay loop muted playsinline preload="auto">
            <source src="/video-placeholder-v2.mp4" type="video/mp4" />
        </video>

        <!-- Horizontal Scanlines Overlay -->
        <div class="absolute inset-0 pointer-events-none scanlines"></div>

        <!-- Logo Animation Container - Centered on video -->
        <div id="logo_video" class="logo-container absolute inset-0 flex items-center justify-center z-10 pointer-events-none">
            <div class="logo-inner">
                <div class="logo-row logo-row-1 w-full max-w-[70px] mb-4">
                    <div class="logo-group logo-the"><img src="/video/The.svg" alt="The" class="w-full" /></div>
                </div>
                <div class="logo-row logo-row-2 w-full max-w-[823px] items-center justify-center gap-2">
                    <div class="logo-group logo-20 w-full max-w-7"><img src="/video/20.svg" alt="20" class="w-full" /></div>
                    <div class="logo-group logo-taco w-full max-w-52"><img src="/video/taco.svg" alt="TACO" class="w-full" /></div>
                    <div class="logo-group logo-14 w-full max-w-7"><img src="/video/14.svg" alt="14" class="w-full" /></div>
                </div>
                <div class="logo-row logo-row-3 w-full max-w-[350px] mt-2.5 mb-6">
                    <div class="logo-group logo-project w-full max-w-[350px]"><img src="/video/project.svg" alt="PROJECT" class="w-full" /></div>
                </div>
                <div class="logo-row logo-row-4 w-full max-w-52">
                    <div class="logo-group logo-made-by-friends w-full max-w-52"><img src="/video/made-by-friends.svg" alt="Made by Friends" class="w-full" /></div>
                </div>
                <div class="logo-row logo-row-5 w-full max-w-40 mt-2.5">
                    <div class="logo-group logo-for-friends w-full max-w-40"><img src="/video/for-friends.svg" alt="For Friends" class="w-full" /></div>
                </div>
            </div>
        </div>

        <div class="container z-50 absolute bottom-12 left-1/2 transform -translate-x-1/2">
            <div class="flex gap-2 align-center justify-center">
                <a href="https://order.toasttab.com/online/locations/dda922d3-35f1-4612-9446-bc35a1067a2c/50800ece-71d9-4702-84df-812f4cc7d767" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
                    Order Online
                    <svg class="size-[13px]" aria-hidden="true">
                        <use href="#icon-external-link"></use>
                    </svg>
                </a>
                <a href="https://www.toasttab.com/catering/locations/dda922d3-35f1-4612-9446-bc35a1067a2c" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
                    Order Catering
                    <svg class="size-[13px]" aria-hidden="true">
                        <use href="#icon-external-link"></use>
                    </svg>
                </a>
            </div>
        </div>

        <style>
            .scanlines {
                background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.2) 0px, rgba(0, 0, 0, 0.2) 1px, transparent 1px, transparent 2px);
            }

            /* Logo container layout */
            .logo-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 0;
            }

            .logo-inner {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 0;
            }

            .logo-row {
                display: flex;
                justify-content: center;
                gap: 1rem;
            }

            /* Each group clips its content */
            .logo-group {
                overflow: hidden;
            }

            /* Images slide up from below */
            .logo-group img {
                display: block;
                transform: translateY(100%);
                animation: slideUp 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            }

            @keyframes slideUp {
                from {
                    transform: translateY(100%);
                }
                to {
                    transform: translateY(0);
                }
            }

            /* Wave 1: The, TACO, PROJECT */
            .logo-the img {
                animation-delay: 0.2s;
            }

            .logo-taco img {
                animation-delay: 0.4s;
            }

            .logo-project img {
                animation-delay: 0.6s;
            }

            /* Wave 2: MADE BY FRIENDS, FOR FRIENDS (after pause) */
            .logo-made-by-friends img {
                animation-delay: 1.4s;
            }

            .logo-for-friends img {
                animation-delay: 1.6s;
            }

            /* Wave 3: 20, 14 (after pause) */
            .logo-20 img {
                animation-delay: 2.4s;
            }

            .logo-14 img {
                animation-delay: 2.6s;
            }
        </style>
    </section>

    <!-- Press Ticker -->
    <PressTicker />

    <CateringCTA />

    <!-- Created For You: Two-column section -->
    <section id="created_for_you" class="bg-crema min-h-auto md:min-h-[80vh] flex flex-col md:flex-row">
        <!-- Column 1: Content -->
        <div class="w-full md:max-w-[calc(var(--max-content-width)*0.35)] p-8">
            <div class="flex flex-col justify-between h-full gap-8 md:gap-0">
                <h2 class="font-futura text-citrus text-[96px] font-[950] leading-[0.88] tracking-tight uppercase mb-14">Created for you</h2>
                <img src="/creating-for-you-tn.webp" alt="Created for you" class="w-full h-auto" width="800" height="610" />
                <p class="font-geist text-ink text-sm font-normal leading-[1.4] mt-8">A simple idea between friends turned into a place where good food, good vibes, and good people come together. At The Taco Project, we serve tacos with soul. Every dish is thoughtfully made, always fresh, and never boring.</p>

                <div class="flex items-center justify-between mt-3">
                    <a href="/menu/" class="group flex items-center justify-between w-full gap-2">
                        <div class="font-futura text-citrus text-5xl md:text-[56px] leading-tight uppercase tracking-tight pb-1.5 transition-colors duration-500 group-hover:text-ink group-focus:text-ink">menu</div>
                        <div class="flex items-center gap-2 text-citrus font-geist text-sm uppercase transition-all duration-500 pr-4 group-hover:pr-0 group-hover:text-ink group-focus:pr-0 group-focus:text-ink">
                            view
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" class="size-[13px]">
                                <use href="#icon-arrow-right"></use>
                            </svg>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <!-- Column 2: Image -->
        <div class="flex-1 min-h-96 md:min-h-auto bg-cover bg-center bg-[url('/created-you.webp')]"></div>
    </section>

    <TestimonialSlider />

    <StoreLocator />

    <section class="min-h-auto md:min-h-[80vh] bg-sky flex flex-col md:flex-row">
        <!-- Column 1: Image (remaining width) -->
        <div class="flex-1 min-h-96 md:min-h-auto bg-cover bg-center bg-[url('/mexican-food-truck-my.webp')]"></div>
        <!-- Column 2: Content (max-width 35%) -->
        <div class="w-full md:max-w-[calc(var(--max-content-width)*0.35)] p-6">
            <div class="flex flex-col justify-between h-full gap-8 md:gap-0">
                <h2 class="text-ocean font-futura text-6xl md:text-[96px] font-[950] leading-[88%] tracking-tight uppercase text-balance">The Taco Truck</h2>
                <div class="flex flex-col gap-4">
                    <div class="text-ocean font-holiday text-5xl font-normal leading-14 rotate-[-4deg]">Let's book your event!</div>

                    <p class="font-geist text-ink text-sm leading-[1.4] lowercase">Whether you're hosting a private party, corporate event, or special celebration, The Taco Project's brand-new food truck brings our authentic, Mexican-inspired flavors directly to you.</p>
                    <div class="flex flex-col gap-4">
                        <a href="/food-truck/" class="flex items-center gap-2 font-geist text-sm uppercase text-ocean hover:text-ink transition-colors">
                            About Our Truck
                            <svg class="size-[13px]" aria-hidden="true">
                                <use href="#icon-arrow-right"></use>
                            </svg>
                        </a>
                        <a href="#" target="_blank" rel="noopener nofollow noreferrer" class="flex items-center gap-2 font-geist text-sm uppercase text-ocean hover:text-ink transition-colors">
                            Event Inquiry Form
                            <svg class="size-[13px]" aria-hidden="true">
                                <use href="#icon-external-link"></use>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>






    <!-- Taco of the Month & Giving Section -->
    <section id="totm_giving" class="bg-gradient-to-r from-crema from-50% to-ink to-50%">
        <div class="flex flex-col md:flex-row justify-center">
            <div class="flex w-full max-w-1/2 justify-center">
                <!-- Taco of the Month -->
                <div class="w-full md:max-w-[calc(var(--max-content-width)*0.5)] flex justify-center md:justify-end">
                    <div class="flex flex-col gap-[22px] items-center justify-center p-8">
                        <div class="bg-tortilla w-[412px] h-[384px] overflow-hidden">
                            <img src="baha-shrimp-tacos-taco-project.webp" alt="Baja Shrimp Taco" class="w-full h-full object-cover" loading="lazy" decoding="async" />
                        </div>
                        <div class="flex flex-col items-center pb-[14px]">
                            <div class="flex items-center justify-center mb-[-14px]">
                                <p class="font-holiday text-hot-sauce text-[48px] leading-[1.3] text-center -rotate-[4deg]">Taco of the Month</p>
                            </div>
                            <h3 class="font-futura text-ocean text-[96px] leading-[0.88] tracking-[-4.8px] uppercase text-center">BAJA SHRIMP</h3>
                        </div>
                        <a href="#" class="btn btn-primary">Order now</a>
                    </div>
                </div>
            </div>

            <div class="flex w-full max-w-1/2 justify-center">
                <!-- Partnerships / Giving -->
                <div class="w-full md:max-w-[calc(var(--max-content-width)*0.5)] flex justify-center md:justify-start">
                    <div class="flex flex-col gap-[22px] items-start justify-center p-8">
                        <div class="w-full">
                            <div class="w-full flex justify-evenly items-center gap-4">
                                <div class="flex justify-center items-center">
                                    <img src="/feeding-america-logo.webp" alt="Feeding America" class="w-full max-w-40" loading="lazy" decoding="async" />
                                </div>
                                <div class="flex justify-center items-center">
                                    <img src="/fill-in-the-blanks-logo.webp" alt="Filling in the Blanks" class="w-full max-w-48" loading="lazy" decoding="async" />
                                </div>
                            </div>
                            <div class="flex w-full justify-center">
                                <img src="/spectrum-designs-logo.webp" alt="Spectrum Designs" class="w-full max-w-72" loading="lazy" decoding="async" />
                            </div>
                            <div class="w-full flex justify-evenly items-center gap-4">
                                <div class="flex justify-center items-center">
                                    <img src="/wmc-health-logo.webp" alt="WMC Health" class="w-full max-w-64" loading="lazy" decoding="async" />
                                </div>
                                <div class="flex justify-center items-center">
                                    <img src="/future-5-logo.webp" alt="Future 5" class="w-full max-w-24" loading="lazy" decoding="async" />
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col gap-4">
                            <p class="font-geist text-crema text-sm leading-[1.4] max-w-96 text-balance text-center">
                                We prioritize our neighbors and help by serving those in our community - we believe that together, we're stronger!<br><br>
                                If you're interested in partnering with us please email <a href="mailto:marketing@thetacoproject.com" class="underline text-crema hover:opacity-80">marketing@thetacoproject.com</a>.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <InstagramFeed />
</BaseLayout>
